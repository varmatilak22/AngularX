{
  "scrapeId": "42406844-babe-4079-95da-0de976011478",
  "sourceURL": "https://angular.dev/ecosystem/service-workers/config",
  "statusCode": 200,
  "data": {
    "markdown": "Skip to main content\n\nmenu\n\nmenuDocs\n\n- Introduction\n\n  - [What is Angular?](https://angular.dev/overview)\n  - [Installation](https://angular.dev/installation)\n  - Essentials\n  - [Start coding! ðŸš€](https://angular.dev/tutorials/learn-angular)\n- In-depth Guides\n\n  - Signals\n  - Components\n  - Templates\n  - Directives\n  - Dependency Injection\n  - Routing\n  - Forms\n  - HTTP Client\n  - Server-side & hybrid-rendering\n  - Testing\n  - Internationalization\n  - Experimental features\n- Developer Tools\n\n  - Angular CLI\n  - Libraries\n  - [DevTools](https://angular.dev/tools/devtools)\n  - [Language Service](https://angular.dev/tools/language-service)\n- Best Practices\n\n  - [Style Guide](https://angular.dev/style-guide)\n  - [Security](https://angular.dev/best-practices/security)\n  - [Accessibility](https://angular.dev/best-practices/a11y)\n  - Performance\n  - [Keeping up-to-date](https://angular.dev/update)\n- Extended Ecosystem\n\n  - [NgModules](https://angular.dev/guide/ngmodules/overview)\n  - Animations\n  - Using RxJS with Angular\n  - Service Workers & PWAs\n  - [Web workers](https://angular.dev/ecosystem/web-workers)\n  - [Custom build pipeline](https://angular.dev/ecosystem/custom-build-pipeline)\n  - [Angular Fire](https://github.com/angular/angularfire#readme)\n  - [Google Maps](https://github.com/angular/components/tree/main/src/google-maps#readme)\n  - [Google Pay](https://github.com/google-pay/google-pay-button#angular)\n  - [YouTube player](https://github.com/angular/components/blob/main/src/youtube-player/README.md)\n  - [Angular CDK](https://material.angular.io/cdk/categories)\n  - [Angular Material](https://material.angular.io/)\n\n- arrow\\_backService Workers & PWAs\n  - [Overview](https://angular.dev/ecosystem/service-workers)\n  - [Getting started](https://angular.dev/ecosystem/service-workers/getting-started)\n  - [Configuration file](https://angular.dev/ecosystem/service-workers/config)\n  - [Communicating with the service worker](https://angular.dev/ecosystem/service-workers/communications)\n  - [Push notifications](https://angular.dev/ecosystem/service-workers/push-notifications)\n  - [Service worker devops](https://angular.dev/ecosystem/service-workers/devops)\n  - [App shell pattern](https://angular.dev/ecosystem/service-workers/app-shell)\n\nThis site uses cookies from Google to deliver its services and to analyze traffic.\n\n[Learn more](https://policies.google.com/technologies/cookies) Ok, Got it\n\nThis topic describes the properties of the service worker configuration file.\n\n## [Modifying the configuration](https://angular.dev/ecosystem/service-workers/config\\#modifying-the-configuration)\n\nThe `ngsw-config.json` JSON configuration file specifies which files and data URLs the Angular service worker should cache and how it should update the cached files and data.\nThe [Angular CLI](https://angular.dev/ecosystem/service-workers/tools/cli) processes this configuration file during `ng build`.\n\nAll file paths must begin with `/`, which corresponds to the deployment directory â€” usually `dist/<project-name>` in CLI projects.\n\nUnless otherwise commented, patterns use a **limited**\\\\* glob format that internally will be converted into regex:\n\n| Glob formats | Details |\n| :-- | :-- |\n| `**` | Matches 0 or more path segments |\n| `*` | Matches 0 or more characters excluding `/` |\n| `?` | Matches exactly one character excluding `/` |\n| `!` prefix | Marks the pattern as being negative, meaning that only files that don't match the pattern are included |\n\n### Special characters need to be escaped\n\nPay attention that some characters with a special meaning in a regular expression are not escaped and also the pattern is not wrapped in `^`/ `$` in the internal glob to regex conversion.\n\n`$` is a special character in regex that matches the end of the string and will not be automatically escaped when converting the glob pattern to a regular expression.\n\nIf you want to literally match the `$` character, you have to escape it yourself (with `\\\\$`). For example, the glob pattern `/foo/bar/$value` results in an unmatchable expression, because it is impossible to have a string that has any characters after it has ended.\n\nThe pattern will not be automatically wrapped in `^` and `$` when converting it to a regular expression. Therefore, the patterns will partially match the request URLs.\n\nIf you want your patterns to match the beginning and/or end of URLs, you can add `^`/ `$` yourself. For example, the glob pattern `/foo/bar/*.js` will match both `.js` and `.json` files. If you want to only match `.js` files, use `/foo/bar/*.js$`.\n\nExample patterns:\n\n| Patterns | Details |\n| :-- | :-- |\n| `/**/*.html` | Specifies all HTML files |\n| `/*.html` | Specifies only HTML files in the root |\n| `!/**/*.map` | Exclude all sourcemaps |\n\n## [Service worker configuration properties](https://angular.dev/ecosystem/service-workers/config\\#service-worker-configuration-properties)\n\nThe following sections describe each property of the configuration file.\n\n### [`appData`](https://angular.dev/ecosystem/service-workers/config\\#appdata)\n\nThis section enables you to pass any data you want that describes this particular version of the application.\nThe `SwUpdate` service includes that data in the update notifications.\nMany applications use this section to provide additional information for the display of UI popups, notifying users of the available update.\n\n### [`index`](https://angular.dev/ecosystem/service-workers/config\\#index)\n\nSpecifies the file that serves as the index page to satisfy navigation requests.\nUsually this is `/index.html`.\n\n### [`assetGroups`](https://angular.dev/ecosystem/service-workers/config\\#assetgroups)\n\n_Assets_ are resources that are part of the application version that update along with the application.\nThey can include resources loaded from the page's origin as well as third-party resources loaded from CDNs and other external URLs.\nAs not all such external URLs might be known at build time, URL patterns can be matched.\n\n**HELPFUL:** For the service worker to handle resources that are loaded from different origins, make sure that [CORS](https://developer.mozilla.org/docs/Web/HTTP/CORS) is correctly configured on each origin's server.\n\nThis field contains an array of asset groups, each of which defines a set of asset resources and the policy by which they are cached.\n\n```\n      {  \"assetGroups\": [    {      â€¦    },    {      â€¦    }  ]}\n\n```\n\ncheck\n\n**HELPFUL:** When the ServiceWorker handles a request, it checks asset groups in the order in which they appear in `ngsw-config.json`.\nThe first asset group that matches the requested resource handles the request.\n\nIt is recommended that you put the more specific asset groups higher in the list.\nFor example, an asset group that matches `/foo.js` should appear before one that matches `*.js`.\n\nEach asset group specifies both a group of resources and a policy that governs them.\nThis policy determines when the resources are fetched and what happens when changes are detected.\n\nAsset groups follow the Typescript interface shown here:\n\n```\n      interface AssetGroup {  name: string;  installMode?: 'prefetch' | 'lazy';  updateMode?: 'prefetch' | 'lazy';  resources: {    files?: string[];    urls?: string[];  };  cacheQueryOptions?: {    ignoreSearch?: boolean;  };}\n\n```\n\ncheck\n\nEach `AssetGroup` is defined by the following asset group properties.\n\n#### [`name`](https://angular.dev/ecosystem/service-workers/config\\#name)\n\nA `name` is mandatory.\nIt identifies this particular group of assets between versions of the configuration.\n\n#### [`installMode`](https://angular.dev/ecosystem/service-workers/config\\#installmode)\n\nThe `installMode` determines how these resources are initially cached.\nThe `installMode` can be either of two values:\n\n| Values | Details |\n| :-- | :-- |\n| `prefetch` | Tells the Angular service worker to fetch every single listed resource while it's caching the current version of the application. This is bandwidth-intensive but ensures resources are available whenever they're requested, even if the browser is currently offline. |\n| `lazy` | Does not cache any of the resources up front. Instead, the Angular service worker only caches resources for which it receives requests. This is an on-demand caching mode. Resources that are never requested are not cached. This is useful for things like images at different resolutions, so the service worker only caches the correct assets for the particular screen and orientation. |\n\nDefaults to `prefetch`.\n\n#### [`updateMode`](https://angular.dev/ecosystem/service-workers/config\\#updatemode)\n\nFor resources already in the cache, the `updateMode` determines the caching behavior when a new version of the application is discovered.\nAny resources in the group that have changed since the previous version are updated in accordance with `updateMode`.\n\n| Values | Details |\n| :-- | :-- |\n| `prefetch` | Tells the service worker to download and cache the changed resources immediately. |\n| `lazy` | Tells the service worker to not cache those resources. Instead, it treats them as unrequested and waits until they're requested again before updating them. An `updateMode` of `lazy` is only valid if the `installMode` is also `lazy`. |\n\nDefaults to the value `installMode` is set to.\n\n#### [`resources`](https://angular.dev/ecosystem/service-workers/config\\#resources)\n\nThis section describes the resources to cache, broken up into the following groups:\n\n| Resource groups | Details |\n| :-- | :-- |\n| `files` | Lists patterns that match files in the distribution directory. These can be single files or glob-like patterns that match a number of files. |\n| `urls` | Includes both URLs and URL patterns that are matched at runtime. These resources are not fetched directly and do not have content hashes, but they are cached according to their HTTP headers. This is most useful for CDNs such as the Google Fonts service. <br>_(Negative glob patterns are not supported and `?` will be matched literally; that is, it will not match any character other than `?`.)_ |\n\n#### [`cacheQueryOptions`](https://angular.dev/ecosystem/service-workers/config\\#cachequeryoptions)\n\nThese options are used to modify the matching behavior of requests.\nThey are passed to the browsers `Cache#match` function.\nSee [MDN](https://developer.mozilla.org/docs/Web/API/Cache/match) for details.\nCurrently, only the following options are supported:\n\n| Options | Details |\n| :-- | :-- |\n| `ignoreSearch` | Ignore query parameters. Defaults to `false`. |\n\n### [`dataGroups`](https://angular.dev/ecosystem/service-workers/config\\#datagroups)\n\nUnlike asset resources, data requests are not versioned along with the application.\nThey're cached according to manually-configured policies that are more useful for situations such as API requests and other data dependencies.\n\nThis field contains an array of data groups, each of which defines a set of data resources and the policy by which they are cached.\n\n```\n      {  \"dataGroups\": [    {      â€¦    },    {      â€¦    }  ]}\n\n```\n\ncheck\n\n**HELPFUL:** When the ServiceWorker handles a request, it checks data groups in the order in which they appear in `ngsw-config.json`.\nThe first data group that matches the requested resource handles the request.\n\nIt is recommended that you put the more specific data groups higher in the list.\nFor example, a data group that matches `/api/foo.json` should appear before one that matches `/api/*.json`.\n\nData groups follow this Typescript interface:\n\n```\n      export interface DataGroup {  name: string;  urls: string[];  version?: number;  cacheConfig: {    maxSize: number;    maxAge: string;    timeout?: string;    refreshAhead?: string;    strategy?: 'freshness' | 'performance';  };  cacheQueryOptions?: {    ignoreSearch?: boolean;  };}\n\n```\n\ncheck\n\nEach `DataGroup` is defined by the following data group properties.\n\n#### [`name`](https://angular.dev/ecosystem/service-workers/config\\#name-1)\n\nSimilar to `assetGroups`, every data group has a `name` which uniquely identifies it.\n\n#### [`urls`](https://angular.dev/ecosystem/service-workers/config\\#urls)\n\nA list of URL patterns.\nURLs that match these patterns are cached according to this data group's policy.\nOnly non-mutating requests (GET and HEAD) are cached.\n\n- Negative glob patterns are not supported\n- `?` is matched literally; that is, it matches _only_ the character `?`\n\n#### [`version`](https://angular.dev/ecosystem/service-workers/config\\#version)\n\nOccasionally APIs change formats in a way that is not backward-compatible.\nA new version of the application might not be compatible with the old API format and thus might not be compatible with existing cached resources from that API.\n\n`version` provides a mechanism to indicate that the resources being cached have been updated in a backwards-incompatible way, and that the old cache entries â€”those from previous versionsâ€” should be discarded.\n\n`version` is an integer field and defaults to `1`.\n\n#### [`cacheConfig`](https://angular.dev/ecosystem/service-workers/config\\#cacheconfig)\n\nThe following properties define the policy by which matching requests are cached.\n\n##### [`maxSize`](https://angular.dev/ecosystem/service-workers/config\\#maxsize)\n\nThe maximum number of entries, or responses, in the cache.\n\n**CRITICAL:** Open-ended caches can grow in unbounded ways and eventually exceed storage quotas, resulting in eviction.\n\n##### [`maxAge`](https://angular.dev/ecosystem/service-workers/config\\#maxage)\n\nThe `maxAge` parameter indicates how long responses are allowed to remain in the cache before being considered invalid and evicted. `maxAge` is a duration string, using the following unit suffixes:\n\n| Suffixes | Details |\n| :-- | :-- |\n| `d` | Days |\n| `h` | Hours |\n| `m` | Minutes |\n| `s` | Seconds |\n| `u` | Milliseconds |\n\nFor example, the string `3d12h` caches content for up to three and a half days.\n\n##### [`timeout`](https://angular.dev/ecosystem/service-workers/config\\#timeout)\n\nThis duration string specifies the network timeout.\nThe network timeout is how long the Angular service worker waits for the network to respond before using a cached response, if configured to do so.\n`timeout` is a duration string, using the following unit suffixes:\n\n| Suffixes | Details |\n| :-- | :-- |\n| `d` | Days |\n| `h` | Hours |\n| `m` | Minutes |\n| `s` | Seconds |\n| `u` | Milliseconds |\n\nFor example, the string `5s30u` translates to five seconds and 30 milliseconds of network timeout.\n\n##### [`refreshAhead`](https://angular.dev/ecosystem/service-workers/config\\#refreshahead)\n\nThis duration string specifies the time ahead of the expiration of a cached resource when the Angular service worker should proactively attempt to refresh the resource from the network.\nThe `refreshAhead` duration is an optional configuration that determines how much time before the expiration of a cached response the service worker should initiate a request to refresh the resource from the network.\n\n| Suffixes | Details |\n| :-- | :-- |\n| `d` | Days |\n| `h` | Hours |\n| `m` | Minutes |\n| `s` | Seconds |\n| `u` | Milliseconds |\n\nFor example, the string `1h30m` translates to one hour and 30 minutes ahead of the expiration time.\n\n##### [`strategy`](https://angular.dev/ecosystem/service-workers/config\\#strategy)\n\nThe Angular service worker can use either of two caching strategies for data resources.\n\n| Caching strategies | Details |\n| :-- | :-- |\n| `performance` | The default, optimizes for responses that are as fast as possible. If a resource exists in the cache, the cached version is used, and no network request is made. This allows for some staleness, depending on the `maxAge`, in exchange for better performance. This is suitable for resources that don't change often; for example, user avatar images. |\n| `freshness` | Optimizes for currency of data, preferentially fetching requested data from the network. Only if the network times out, according to `timeout`, does the request fall back to the cache. This is useful for resources that change frequently; for example, account balances. |\n\n**HELPFUL:** You can also emulate a third strategy, [staleWhileRevalidate](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#stale-while-revalidate), which returns cached data if it is available, but also fetches fresh data from the network in the background for next time.\nTo use this strategy set `strategy` to `freshness` and `timeout` to `0u` in `cacheConfig`.\n\nThis essentially does the following:\n\n1. Try to fetch from the network first.\n2. If the network request does not complete immediately, that is after a timeout of 0Â ms, ignore the cache age and fall back to the cached value.\n3. Once the network request completes, update the cache for future requests.\n4. If the resource does not exist in the cache, wait for the network request anyway.\n\n##### [`cacheOpaqueResponses`](https://angular.dev/ecosystem/service-workers/config\\#cacheopaqueresponses)\n\nWhether the Angular service worker should cache opaque responses or not.\n\nIf not specified, the default value depends on the data group's configured strategy:\n\n| Strategies | Details |\n| :-- | :-- |\n| Groups with the `freshness` strategy | The default value is `true` and the service worker caches opaque responses. These groups will request the data every time and only fall back to the cached response when offline or on a slow network. Therefore, it doesn't matter if the service worker caches an error response. |\n| Groups with the `performance` strategy | The default value is `false` and the service worker doesn't cache opaque responses. These groups would continue to return a cached response until `maxAge` expires, even if the error was due to a temporary network or server issue. Therefore, it would be problematic for the service worker to cache an error response. |\n\n### Comment on opaque responses\n\nIn case you are not familiar, an [opaque response](https://fetch.spec.whatwg.org/#concept-filtered-response-opaque) is a special type of response returned when requesting a resource that is on a different origin which doesn't return CORS headers.\nOne of the characteristics of an opaque response is that the service worker is not allowed to read its status, meaning it can't check if the request was successful or not.\nSee [Introduction to `fetch()`](https://developers.google.com/web/updates/2015/03/introduction-to-fetch#response_types) for more details.\n\nIf you are not able to implement CORS â€” for example, if you don't control the origin â€” prefer using the `freshness` strategy for resources that result in opaque responses.\n\n#### [`cacheQueryOptions`](https://angular.dev/ecosystem/service-workers/config\\#cachequeryoptions-1)\n\nSee [assetGroups](https://angular.dev/ecosystem/service-workers/config#assetgroups) for details.\n\n### [`navigationUrls`](https://angular.dev/ecosystem/service-workers/config\\#navigationurls)\n\nThis optional section enables you to specify a custom list of URLs that will be redirected to the index file.\n\n#### [Handling navigation requests](https://angular.dev/ecosystem/service-workers/config\\#handling-navigation-requests)\n\nThe ServiceWorker redirects navigation requests that don't match any `asset` or `data` group to the specified [index file](https://angular.dev/ecosystem/service-workers/config#index).\nA request is considered to be a navigation request if:\n\n- Its [method](https://developer.mozilla.org/docs/Web/API/Request/method) is `GET`\n- Its [mode](https://developer.mozilla.org/docs/Web/API/Request/mode) is `navigation`\n- It accepts a `text/html` response as determined by the value of the `Accept` header\n- Its URL matches the following criteria:\n  - The URL must not contain a file extension (that is, a `.`) in the last path segment\n  - The URL must not contain `__`\n\n**HELPFUL:** To configure whether navigation requests are sent through to the network or not, see the [navigationRequestStrategy](https://angular.dev/ecosystem/service-workers/config#navigationrequeststrategy) section and [applicationMaxAge](https://angular.dev/ecosystem/service-workers/config#application-max-age) sections.\n\n#### [Matching navigation request URLs](https://angular.dev/ecosystem/service-workers/config\\#matching-navigation-request-urls)\n\nWhile these default criteria are fine in most cases, it is sometimes desirable to configure different rules.\nFor example, you might want to ignore specific routes, such as those that are not part of the Angular app, and pass them through to the server.\n\nThis field contains an array of URLs and [glob-like](https://angular.dev/ecosystem/service-workers/config#modifying-the-configuration) URL patterns that are matched at runtime.\nIt can contain both negative patterns (that is, patterns starting with `!`) and non-negative patterns and URLs.\n\nOnly requests whose URLs match _any_ of the non-negative URLs/patterns and _none_ of the negative ones are considered navigation requests.\nThe URL query is ignored when matching.\n\nIf the field is omitted, it defaults to:\n\n```\n      [  '/**',           // Include all URLs.  '!/**/*.*',      // Exclude URLs to files (containing a file extension in the last segment).  '!/**/*__*',     // Exclude URLs containing `__` in the last segment.  '!/**/*__*/**',  // Exclude URLs containing `__` in any other segment.]\n\n```\n\ncheck\n\n### [`navigationRequestStrategy`](https://angular.dev/ecosystem/service-workers/config\\#navigationrequeststrategy)\n\nThis optional property enables you to configure how the service worker handles navigation requests:\n\n```\n      {  \"navigationRequestStrategy\": \"freshness\"}\n\n```\n\ncheck\n\n| Possible values | Details |\n| :-- | :-- |\n| `'performance'` | The default setting. Serves the specified [index file](https://angular.dev/ecosystem/service-workers/config#index-file), which is typically cached. |\n| `'freshness'` | Passes the requests through to the network and falls back to the `performance` behavior when offline. This value is useful when the server redirects the navigation requests elsewhere using a `3xx` HTTP redirect status code. Reasons for using this value include: <br>- Redirecting to an authentication website when authentication is not handled by the application <br>- Redirecting specific URLs to avoid breaking existing links/bookmarks after a website redesign <br>- Redirecting to a different website, such as a server-status page, while a page is temporarily down |\n\n**IMPORTANT:** The `freshness` strategy usually results in more requests sent to the server, which can increase response latency. It is recommended that you use the default performance strategy whenever possible.\n\n### [`applicationMaxAge`](https://angular.dev/ecosystem/service-workers/config\\#applicationmaxage)\n\nThis optional property enables you to configure how long the service worker will cache any requests. Within the `maxAge`, files will be served from cache. Beyond it, all requests will only be served from the network, including asset and data requests.",
    "screenshot": "https://service.firecrawl.dev/storage/v1/object/public/media/screenshot-78db0cdf-bb77-43cd-8ce3-32901245194e.png"
  },
  "metadata": {
    "viewport": "width=device-width, initial-scale=1",
    "title": "Configuration file â€¢ Angular",
    "application-name": "Angular",
    "apple-mobile-web-app-title": "Angular",
    "msapplication-TileColor": "#e90464",
    "favicon": "https://angular.dev/assets/icons/favicon-48x48.png",
    "twitter:title": "Angular",
    "twitter:url": "https://angular.dev/",
    "description": "The web development framework for building modern apps.",
    "ogTitle": "Angular",
    "og:url": "https://angular.dev/",
    "twitter:description": "The web development framework for building modern apps.",
    "msapplication-config": "/assets/icons/browserconfig.xml",
    "og:image": "https://angular.dev/assets/images/ng-image.jpg",
    "twitter:image": "https://angular.dev/assets/images/ng-image.jpg",
    "ogUrl": "https://angular.dev/",
    "ogImage": "https://angular.dev/assets/images/ng-image.jpg",
    "og:title": "Angular",
    "theme-color": "#ffffff",
    "og:description": "The web development framework for building modern apps.",
    "twitter:card": "summary_large_image",
    "language": "en",
    "ogDescription": "The web development framework for building modern apps.",
    "og:type": "website",
    "scrapeId": "42406844-babe-4079-95da-0de976011478",
    "sourceURL": "https://angular.dev/ecosystem/service-workers/config",
    "url": "https://angular.dev/ecosystem/service-workers/config",
    "statusCode": 200
  }
}