{
  "scrapeId": "03f84f65-2055-47b3-ac33-a07908e8503f",
  "sourceURL": "https://angular.dev/guide/animations/route-animations",
  "statusCode": 200,
  "data": {
    "markdown": "Skip to main content\n\nmenu\n\nmenuDocs\n\n- Introduction\n\n  - [What is Angular?](https://angular.dev/overview)\n  - [Installation](https://angular.dev/installation)\n  - Essentials\n  - [Start coding! 🚀](https://angular.dev/tutorials/learn-angular)\n- In-depth Guides\n\n  - Signals\n  - Components\n  - Templates\n  - Directives\n  - Dependency Injection\n  - Routing\n  - Forms\n  - HTTP Client\n  - Server-side & hybrid-rendering\n  - Testing\n  - Internationalization\n  - Experimental features\n- Developer Tools\n\n  - Angular CLI\n  - Libraries\n  - [DevTools](https://angular.dev/tools/devtools)\n  - [Language Service](https://angular.dev/tools/language-service)\n- Best Practices\n\n  - [Style Guide](https://angular.dev/style-guide)\n  - [Security](https://angular.dev/best-practices/security)\n  - [Accessibility](https://angular.dev/best-practices/a11y)\n  - Performance\n  - [Keeping up-to-date](https://angular.dev/update)\n- Extended Ecosystem\n\n  - [NgModules](https://angular.dev/guide/ngmodules/overview)\n  - Animations\n  - Using RxJS with Angular\n  - Service Workers & PWAs\n  - [Web workers](https://angular.dev/ecosystem/web-workers)\n  - [Custom build pipeline](https://angular.dev/ecosystem/custom-build-pipeline)\n  - [Angular Fire](https://github.com/angular/angularfire#readme)\n  - [Google Maps](https://github.com/angular/components/tree/main/src/google-maps#readme)\n  - [Google Pay](https://github.com/google-pay/google-pay-button#angular)\n  - [YouTube player](https://github.com/angular/components/blob/main/src/youtube-player/README.md)\n  - [Angular CDK](https://material.angular.io/cdk/categories)\n  - [Angular Material](https://material.angular.io/)\n\n- arrow\\_backAnimations\n  - [Overview](https://angular.dev/guide/animations)\n  - [Transition and Triggers](https://angular.dev/guide/animations/transition-and-triggers)\n  - [Complex Sequences](https://angular.dev/guide/animations/complex-sequences)\n  - [Reusable Animations](https://angular.dev/guide/animations/reusable-animations)\n  - [Route transition animations](https://angular.dev/guide/animations/route-animations)\n\nThis site uses cookies from Google to deliver its services and to analyze traffic.\n\n[Learn more](https://policies.google.com/technologies/cookies) Ok, Got it\n\nWhen a user navigates from one route to another, the Angular Router maps the URL path to the relevant component and displays its view. Animating this route transition can greatly enhance the user experience. The Router has support for the View Transitions API when navigating between routes in Chrome/Chromium browsers.\n\n**HELPFUL:** The Router's native View Transitions integration is currently in [developer preview](https://angular.dev/reference/releases#developer-preview). Native View Transitions are also a relatively new feature so there may be limited support in some browsers.\n\n## [How View Transitions work](https://angular.dev/guide/animations/route-animations\\#how-view-transitions-work)\n\nThe native browser method that’s used for view transitions is `document.startViewTransition`. When `startViewTransition()` is called, the browser captures the current state of the page which includes taking a screenshot. The method takes a callback that updates the DOM and this function can be asynchronous. The new state is captured and the transition begins in the next animation frame when the promise returned by the callback resolves.\n\nHere’s an example of the startViewTransition api:\n\n```\n      document.startViewTransition(async () => {  await updateTheDOMSomehow();});\n\n```\n\ncheck\n\nIf you’re curious to read more about the details of the browser API, the [Chrome Explainer](https://developer.chrome.com/docs/web-platform/view-transitions) is an invaluable resource.\n\n## [How the Router uses view transitions](https://angular.dev/guide/animations/route-animations\\#how-the-router-uses-view-transitions)\n\nSeveral things happen after navigation starts in the router: route matching, loading lazy routes and components, executing guards and resolvers to name a few. Once these have completed successfully, the new routes are ready to be activated. This route activation is the DOM update that we want to perform as part of the view transition.\n\nWhen the view transition feature is enabled, navigation “pauses” and a call is made to the browser’s `startViewTransition` method. Once the `startViewTransition` callback executes (this happens asynchronously, as outlined in the spec here), navigation “resumes”. The remaining steps for the router navigation include updating the browser URL and activating or deactivating the matched routes (the DOM update).\n\nFinally, the callback passed to `startViewTransition` returns a Promise that resolves once Angular has finished rendering. As described above, this indicates to the browser that the new DOM state should be captured and the transition should begin.\n\nView transitions are a [progressive enhancement](https://developer.mozilla.org/en-US/docs/Glossary/Progressive_Enhancement). If the browser does not support the API, the Router will perform the DOM updates without calling `startViewTransition` and the navigation will not be animated.\n\n## [Enabling View Transitions in the Router](https://angular.dev/guide/animations/route-animations\\#enabling-view-transitions-in-the-router)\n\nTo enable this feature, simply add `withViewTransitions` to the `provideRouter` or set `enableViewTransitions: true` in `RouterModule.forRoot`:\n\n```\n      // Standalone bootstrapbootstrapApplication(MyApp, {providers: [  provideRouter(ROUTES, withViewTransitions()),]});// NgModule bootstrap@NgModule({  imports: [RouterModule.forRoot(routes, {enableViewTransitions: true})]})export class AppRouting {}\n\n```\n\ncheck\n\n[Try the “count” example on StackBlitz](https://stackblitz.com/edit/stackblitz-starters-2dnvtm?file=src%2Fmain.ts)\n\nThis example uses the counter application from the Chrome explainer and replaces the direct call to startViewTransition when the counter increments with a router navigation.\n\n## [Using CSS to customize transitions](https://angular.dev/guide/animations/route-animations\\#using-css-to-customize-transitions)\n\nView transitions can be customized with CSS. We can also instruct the browser to create separate elements for the transition by setting a view-transition-name. We can expand the first example by adding view-transition-name: count to the .count style in the Counter component. Then, in the global styles, we can define a custom animation for this view transition:\n\n```\n      /* Custom transition */@keyframes rotate-out { to {   transform: rotate(90deg); }}@keyframes rotate-in { from {   transform: rotate(-90deg); }}::view-transition-old(count),::view-transition-new(count) { animation-duration: 200ms; animation-name: -ua-view-transition-fade-in, rotate-in;}::view-transition-old(count) { animation-name: -ua-view-transition-fade-out, rotate-out;}\n\n```\n\ncheck\n\nIt is important that the view transition animations are defined in a global style file. They cannot be defined in the component styles because the default view encapsulation will scope the styles to the component.\n\n[Try the updated “count” example on StackBlitz](https://stackblitz.com/edit/stackblitz-starters-fwn4i7?file=src%2Fmain.ts)\n\n## [Controlling transitions with onViewTransitionCreated](https://angular.dev/guide/animations/route-animations\\#controlling-transitions-with-onviewtransitioncreated)\n\nThe `withViewTransitions` router feature can also be called with an options object that includes an `onViewTransitionCreated` callback. This callback is run in an [injection context](https://angular.dev/guide/di/dependency-injection-context#run-within-an-injection-context) and receives a [ViewTransitionInfo](https://angular.dev/api/router/ViewTransitionInfo) object that includes the `ViewTransition` returned from `startViewTransition`, as well as the `ActivatedRouteSnapshot` that the navigation is transitioning from and the new one that it is transitioning to.\n\nThis callback can be used for any number of customizations. For example, you might want to skip transitions under certain conditions. We use this on the new angular.dev docs site:\n\n```\n      withViewTransitions({ onViewTransitionCreated: ({transition}) => {   const router = inject(Router);   const targetUrl = router.getCurrentNavigation()!.finalUrl!;   // Skip the transition if the only thing   // changing is the fragment and queryParams   const config = {     paths: 'exact',     matrixParams: 'exact',     fragment: 'ignored',     queryParams: 'ignored',   };   if (router.isActive(targetUrl, config)) {     transition.skipTransition();   } },}),\n\n```\n\ncheck\n\nIn this code snippet, we create a `UrlTree` from the `ActivatedRouteSnapshot` the navigation is going to. We then check with the Router to see if this `UrlTree` is already active, ignoring any differences in the fragment or query parameters. If it is already active, we call skipTransition which will skip the animation portion of the view transition. This is the case when clicking on an anchor link that will only scroll to another location in the same document.\n\n## [Examples from the Chrome explainer adapted to Angular](https://angular.dev/guide/animations/route-animations\\#examples-from-the-chrome-explainer-adapted-to-angular)\n\nWe’ve recreated some of the great examples from the Chrome Team in Angular for you to explore.\n\n### [Transitioning elements don’t need to be the same DOM element](https://angular.dev/guide/animations/route-animations\\#transitioning-elements-dont-need-to-be-the-same-dom-element)\n\n- [Chrome Explainer](https://developer.chrome.com/docs/web-platform/view-transitions/same-document#transitioning_elements_dont_need_to_be_the_same_dom_element)\n- [Angular Example on StackBlitz](https://stackblitz.com/edit/stackblitz-starters-dh8npr?file=src%2Fmain.ts)\n\n### [Custom entry and exit animations](https://angular.dev/guide/animations/route-animations\\#custom-entry-and-exit-animations)\n\n- [Chrome Explainer](https://developer.chrome.com/docs/web-platform/view-transitions/same-document#custom_entry_and_exit_transitions)\n- [Angular Example on StackBlitz](https://stackblitz.com/edit/stackblitz-starters-8kly3o)\n\n### [Async DOM updates and waiting for content](https://angular.dev/guide/animations/route-animations\\#async-dom-updates-and-waiting-for-content)\n\n- [Chrome Explainer](https://developer.chrome.com/docs/web-platform/view-transitions/same-document#async_dom_updates_and_waiting_for_content)\n\n> During this time, the page is frozen, so delays here should be kept to a minimum…in some cases it’s better to avoid the delay altogether, and use the content you already have.\n\nThe view transition feature in the Angular router does not provide a way to delay the animation. For the moment, our stance is that it’s always better to use the content you have rather than making the page non-interactive for any additional amount of time.\n\n### [Handle multiple view transition styles with view transition types](https://angular.dev/guide/animations/route-animations\\#handle-multiple-view-transition-styles-with-view-transition-types)\n\n- [Chrome Explainer](https://developer.chrome.com/docs/web-platform/view-transitions/same-document#view-transition-types)\n- [Angular Example on StackBlitz](https://stackblitz.com/edit/stackblitz-starters-vxzcam)\n\n### [Handle multiple view transition styles with a class name on the view transition root (deprecated)](https://angular.dev/guide/animations/route-animations\\#handle-multiple-view-transition-styles-with-a-class-name-on-the-view-transition-root-deprecated)\n\n- [Chrome Explainer](https://developer.chrome.com/docs/web-platform/view-transitions/same-document#changing-on-navigation-type)\n- [Angular Example on StackBlitz](https://stackblitz.com/edit/stackblitz-starters-nmnzzg?file=src%2Fmain.ts)\n\n### [Transitioning without freezing other animations](https://angular.dev/guide/animations/route-animations\\#transitioning-without-freezing-other-animations)\n\n- [Chrome Explainer](https://developer.chrome.com/docs/web-platform/view-transitions/same-document#transitioning-without-freezing)\n- [Angular Example on StackBlitz](https://stackblitz.com/edit/stackblitz-starters-76kgww)\n\n### [Animating with Javascript](https://angular.dev/guide/animations/route-animations\\#animating-with-javascript)\n\n- [Chrome Explainer](https://developer.chrome.com/docs/web-platform/view-transitions/same-document#animating-with-javascript)\n- [Angular Example on StackBlitz](https://stackblitz.com/edit/stackblitz-starters-cklnkm)\n\n## [Native View Transitions Alternative](https://angular.dev/guide/animations/route-animations\\#native-view-transitions-alternative)\n\nAnimating the transition between routes can also be done with the `@angular/animations` package.\nThe animation [triggers and transitions](https://angular.dev/guide/animations/transition-and-triggers)\ncan be derived from the router state, such as the current URL or `ActivatedRoute`.",
    "screenshot": "https://service.firecrawl.dev/storage/v1/object/public/media/screenshot-9268ca1f-58f9-426b-ae54-e218a3404453.png"
  },
  "metadata": {
    "twitter:url": "https://angular.dev/",
    "language": "en",
    "og:type": "website",
    "theme-color": "#ffffff",
    "twitter:title": "Angular",
    "ogTitle": "Angular",
    "twitter:description": "The web development framework for building modern apps.",
    "og:description": "The web development framework for building modern apps.",
    "twitter:image": "https://angular.dev/assets/images/ng-image.jpg",
    "favicon": "https://angular.dev/assets/icons/favicon-48x48.png",
    "ogImage": "https://angular.dev/assets/images/ng-image.jpg",
    "title": "Route transition animations • Angular",
    "viewport": "width=device-width, initial-scale=1",
    "msapplication-config": "/assets/icons/browserconfig.xml",
    "og:url": "https://angular.dev/",
    "twitter:card": "summary_large_image",
    "apple-mobile-web-app-title": "Angular",
    "ogDescription": "The web development framework for building modern apps.",
    "ogUrl": "https://angular.dev/",
    "application-name": "Angular",
    "msapplication-TileColor": "#e90464",
    "og:title": "Angular",
    "og:image": "https://angular.dev/assets/images/ng-image.jpg",
    "description": "The web development framework for building modern apps.",
    "scrapeId": "03f84f65-2055-47b3-ac33-a07908e8503f",
    "sourceURL": "https://angular.dev/guide/animations/route-animations",
    "url": "https://angular.dev/guide/animations/route-animations",
    "statusCode": 200
  }
}