{
  "scrapeId": "0f7cf412-756d-44f8-9576-54a29f10ef30",
  "sourceURL": "https://angular.dev/best-practices/skipping-subtrees",
  "statusCode": 200,
  "data": {
    "markdown": "Skip to main content\n\nmenu\n\nmenuDocs\n\n- Introduction\n\n  - [What is Angular?](https://angular.dev/overview)\n  - [Installation](https://angular.dev/installation)\n  - Essentials\n  - [Start coding! ðŸš€](https://angular.dev/tutorials/learn-angular)\n- In-depth Guides\n\n  - Signals\n  - Components\n  - Templates\n  - Directives\n  - Dependency Injection\n  - Routing\n  - Forms\n  - HTTP Client\n  - Server-side & hybrid-rendering\n  - Testing\n  - Internationalization\n  - Experimental features\n- Developer Tools\n\n  - Angular CLI\n  - Libraries\n  - [DevTools](https://angular.dev/tools/devtools)\n  - [Language Service](https://angular.dev/tools/language-service)\n- Best Practices\n\n  - [Style Guide](https://angular.dev/style-guide)\n  - [Security](https://angular.dev/best-practices/security)\n  - [Accessibility](https://angular.dev/best-practices/a11y)\n  - Performance\n  - [Keeping up-to-date](https://angular.dev/update)\n- Extended Ecosystem\n\n  - [NgModules](https://angular.dev/guide/ngmodules/overview)\n  - Animations\n  - Using RxJS with Angular\n  - Service Workers & PWAs\n  - [Web workers](https://angular.dev/ecosystem/web-workers)\n  - [Custom build pipeline](https://angular.dev/ecosystem/custom-build-pipeline)\n  - [Angular Fire](https://github.com/angular/angularfire#readme)\n  - [Google Maps](https://github.com/angular/components/tree/main/src/google-maps#readme)\n  - [Google Pay](https://github.com/google-pay/google-pay-button#angular)\n  - [YouTube player](https://github.com/angular/components/blob/main/src/youtube-player/README.md)\n  - [Angular CDK](https://material.angular.io/cdk/categories)\n  - [Angular Material](https://material.angular.io/)\n\n- arrow\\_backPerformance\n  - [Overview](https://angular.dev/best-practices/runtime-performance)\n  - [Zone pollution](https://angular.dev/best-practices/zone-pollution)\n  - [Slow computations](https://angular.dev/best-practices/slow-computations)\n  - [Skipping component subtrees](https://angular.dev/best-practices/skipping-subtrees)\n\nThis site uses cookies from Google to deliver its services and to analyze traffic.\n\n[Learn more](https://policies.google.com/technologies/cookies) Ok, Got it\n\nJavaScript, by default, uses mutable data structures that you can reference from multiple different components. Angular runs change detection over your entire component tree to make sure that the most up-to-date state of your data structures is reflected in the DOM.\n\nChange detection is sufficiently fast for most applications. However, when an application has an especially large component tree, running change detection across the whole application can cause performance issues. You can address this by configuring change detection to only run on a subset of the component tree.\n\nIf you are confident that a part of the application is not affected by a state change, you can use [OnPush](https://angular.dev/api/core/ChangeDetectionStrategy) to skip change detection in an entire component subtree.\n\n## [Using `OnPush`](https://angular.dev/best-practices/skipping-subtrees\\#using-onpush)\n\nOnPush change detection instructs Angular to run change detection for a component subtree **only** when:\n\n- The root component of the subtree receives new inputs as the result of a template binding. Angular compares the current and past value of the input with `==`.\n- Angular handles an event _(for example using event binding, output binding, or `@HostListener` )_ in the subtree's root component or any of its children whether they are using OnPush change detection or not.\n\nYou can set the change detection strategy of a component to `OnPush` in the `@Component` decorator:\n\n```\n      import { ChangeDetectionStrategy, Component } from '@angular/core';@Component({  changeDetection: ChangeDetectionStrategy.OnPush,})export class MyComponent {}\n\n```\n\ncheck\n\n## [Common change detection scenarios](https://angular.dev/best-practices/skipping-subtrees\\#common-change-detection-scenarios)\n\nThis section examines several common change detection scenarios to illustrate Angular's behavior.\n\n### [An event is handled by a component with default change detection](https://angular.dev/best-practices/skipping-subtrees\\#an-event-is-handled-by-a-component-with-default-change-detection)\n\nIf Angular handles an event within a component without `OnPush` strategy, the framework executes change detection on the entire component tree. Angular will skip descendant component subtrees with roots using `OnPush`, which have not received new inputs.\n\nAs an example, if we set the change detection strategy of `MainComponent` to `OnPush` and the user interacts with a component outside the subtree with root `MainComponent`, Angular will check all the pink components from the diagram below ( `AppComponent`, `HeaderComponent`, `SearchComponent`, `ButtonComponent`) unless `MainComponent` receives new inputs:\n\nAppComponent\n\nHeaderComponent\n\nMainComponent (OnPush)\n\nSearchComponent\n\nButtonComponent\n\nLoginComponent (OnPush)\n\nDetailsComponent\n\nEvent\n\n## [An event is handled by a component with OnPush](https://angular.dev/best-practices/skipping-subtrees\\#an-event-is-handled-by-a-component-with-onpush)\n\nIf Angular handles an event within a component with OnPush strategy, the framework will execute change detection within the entire component tree. Angular will ignore component subtrees with roots using OnPush, which have not received new inputs and are outside the component which handled the event.\n\nAs an example, if Angular handles an event within `MainComponent`, the framework will run change detection in the entire component tree. Angular will ignore the subtree with root `LoginComponent` because it has `OnPush` and the event happened outside of its scope.\n\nAppComponent\n\nHeaderComponent\n\nMainComponent (OnPush)\n\nSearchComponent\n\nButtonComponent\n\nLoginComponent (OnPush)\n\nDetailsComponent\n\nEvent\n\n## [An event is handled by a descendant of a component with OnPush](https://angular.dev/best-practices/skipping-subtrees\\#an-event-is-handled-by-a-descendant-of-a-component-with-onpush)\n\nIf Angular handles an event in a component with OnPush, the framework will execute change detection in the entire component tree, including the componentâ€™s ancestors.\n\nAs an example, in the diagram below, Angular handles an event in `LoginComponent` which uses OnPush. Angular will invoke change detection in the entire component subtree including `MainComponent` ( `LoginComponent`â€™s parent), even though `MainComponent` has `OnPush` as well. Angular checks `MainComponent` as well because `LoginComponent` is part of its view.\n\nAppComponent\n\nHeaderComponent\n\nMainComponent (OnPush)\n\nSearchComponent\n\nButtonComponent\n\nLoginComponent (OnPush)\n\nDetailsComponent\n\nEvent\n\n## [New inputs to component with OnPush](https://angular.dev/best-practices/skipping-subtrees\\#new-inputs-to-component-with-onpush)\n\nAngular will run change detection within a child component with `OnPush` when setting an input property as result of a template binding.\n\nFor example, in the diagram below, `AppComponent` passes a new input to `MainComponent`, which has `OnPush`. Angular will run change detection in `MainComponent` but will not run change detection in `LoginComponent`, which also has `OnPush`, unless it receives new inputs as well.\n\nAppComponent\n\nHeaderComponent\n\nMainComponent (OnPush)\n\nSearchComponent\n\nButtonComponent\n\nLoginComponent (OnPush)\n\nDetailsComponent\n\nParent passes new input to MainComponent\n\n## [Edge cases](https://angular.dev/best-practices/skipping-subtrees\\#edge-cases)\n\n- **Modifying input properties in TypeScript code**. When you use an API like `@ViewChild` or `@ContentChild` to get a reference to a component in TypeScript and manually modify an `@Input` property, Angular will not automatically run change detection for OnPush components. If you need Angular to run change detection, you can inject `ChangeDetectorRef` in your component and call `changeDetectorRef.markForCheck()` to tell Angular to schedule a change detection.\n- **Modifying object references**. In case an input receives a mutable object as value and you modify the object but preserve the reference, Angular will not invoke change detection. Thatâ€™s the expected behavior because the previous and the current value of the input point to the same reference.",
    "screenshot": "https://service.firecrawl.dev/storage/v1/object/public/media/screenshot-fd565185-cd9d-4a0a-8010-33569e433bb8.png"
  },
  "metadata": {
    "twitter:card": "summary_large_image",
    "twitter:title": "Angular",
    "twitter:image": "https://angular.dev/assets/images/ng-image.jpg",
    "twitter:description": "The web development framework for building modern apps.",
    "language": "en",
    "title": "Skipping component subtrees â€¢ Angular",
    "apple-mobile-web-app-title": "Angular",
    "og:title": "Angular",
    "ogTitle": "Angular",
    "msapplication-TileColor": "#e90464",
    "application-name": "Angular",
    "twitter:url": "https://angular.dev/",
    "ogDescription": "The web development framework for building modern apps.",
    "description": "The web development framework for building modern apps.",
    "theme-color": "#ffffff",
    "og:image": "https://angular.dev/assets/images/ng-image.jpg",
    "ogImage": "https://angular.dev/assets/images/ng-image.jpg",
    "viewport": "width=device-width, initial-scale=1",
    "favicon": "https://angular.dev/assets/icons/favicon-48x48.png",
    "og:type": "website",
    "ogUrl": "https://angular.dev/",
    "msapplication-config": "/assets/icons/browserconfig.xml",
    "og:description": "The web development framework for building modern apps.",
    "og:url": "https://angular.dev/",
    "scrapeId": "0f7cf412-756d-44f8-9576-54a29f10ef30",
    "sourceURL": "https://angular.dev/best-practices/skipping-subtrees",
    "url": "https://angular.dev/best-practices/skipping-subtrees",
    "statusCode": 200
  }
}